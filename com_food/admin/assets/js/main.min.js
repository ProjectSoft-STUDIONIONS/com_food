!function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(n){return function(n,r){var o,a,s,i,c,p,l,d,m,u=1,f=n.length,g="";for(a=0;a<f;a++)if("string"==typeof n[a])g+=n[a];else if("object"==typeof n[a]){if((i=n[a]).keys)for(o=r[u],s=0;s<i.keys.length;s++){if(null==o)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[s],i.keys[s-1]));o=o[i.keys[s]]}else o=i.param_no?r[i.param_no]:r[u++];if(e.not_type.test(i.type)&&e.not_primitive.test(i.type)&&o instanceof Function&&(o=o()),e.numeric_arg.test(i.type)&&"number"!=typeof o&&isNaN(o))throw new TypeError(t("[sprintf] expecting number but found %T",o));switch(e.number.test(i.type)&&(d=o>=0),i.type){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,i.width?parseInt(i.width):0);break;case"e":o=i.precision?parseFloat(o).toExponential(i.precision):parseFloat(o).toExponential();break;case"f":o=i.precision?parseFloat(o).toFixed(i.precision):parseFloat(o);break;case"g":o=i.precision?String(Number(o.toPrecision(i.precision))):parseFloat(o);break;case"o":o=(parseInt(o,10)>>>0).toString(8);break;case"s":o=String(o),o=i.precision?o.substring(0,i.precision):o;break;case"t":o=String(!!o),o=i.precision?o.substring(0,i.precision):o;break;case"T":o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=i.precision?o.substring(0,i.precision):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=i.precision?o.substring(0,i.precision):o;break;case"x":o=(parseInt(o,10)>>>0).toString(16);break;case"X":o=(parseInt(o,10)>>>0).toString(16).toUpperCase()}e.json.test(i.type)?g+=o:(!e.number.test(i.type)||d&&!i.sign?m="":(m=d?"+":"-",o=o.toString().replace(e.sign,"")),p=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",l=i.width-(m+o).length,c=i.width&&l>0?p.repeat(l):"",g+=i.align?m+o+c:"0"===p?m+c+o:c+m+o)}return g}(function(t){if(r[t])return r[t];var n,o=t,a=[],s=0;for(;o;){if(null!==(n=e.text.exec(o)))a.push(n[0]);else if(null!==(n=e.modulo.exec(o)))a.push("%");else{if(null===(n=e.placeholder.exec(o)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){s|=1;var i=[],c=n[2],p=[];if(null===(p=e.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(p[1]);""!==(c=c.substring(p[0].length));)if(null!==(p=e.key_access.exec(c)))i.push(p[1]);else{if(null===(p=e.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(p[1])}n[2]=i}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}o=o.substring(n[0].length)}return r[t]=a}(n),arguments)}function n(e,n){return t.apply(null,[e].concat(n||[]))}var r=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=t,exports.vsprintf=n),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=n,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:n}}))}(),function(e){const t=e.noConflict(!0),n="\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043f\u0438\u0442\u0430\u043d\u0438\u044f \u0434\u043b\u044f Joomla CMS 4.x - 5.x";let r=location.search.replace(/\?/g,"").split("&").map((e,t,n)=>{return e.split("=")});const o=Object.fromEntries(r),a=parseInt(window.MAX_COUNT_FILE),s=function(){let t=document.form_mode,n=e("input[name=mode]",t)[0],r=e("input[name=file]",t)[0],o=e("input[name=new_file]",t)[0];n.value="",r.value="",o.value="",t.reset()},i=function(e,t,n){let r=-1;for(n||0===n||(n=" "),t-=(e=String(e)).length;++r<t;)e=n+e;return e};if(window.uploadFiles=function(e){let n=t("#p_uploads"),r=[...e.files],o=[];if(r.length>a)return alert(`\u041d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 ${a} \u0444\u0430\u0439\u043b\u043e\u0432`),document.upload.reset(),!1;for(let e of r){let t;if(null!==(t=/[^.]+$/.exec(e.name))){let r=t[0].toLowerCase();if("xlsx"!=r&&"pdf"!=r)return n.html(""),alert(`\u041d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430!\n${e.name} - ${e.type}`),document.upload.reset(),!1;o.push(`<code>${e.name}</code>`)}}return n.html(o.join("")),!1},window.modeFile=function(t){let n=e(t).data("mode"),r=e(t).data("file"),o=document.form_mode,a=e("input[name=mode]",o)[0],i=e("input[name=file]",o)[0],c=e("input[name=new_file]",o)[0];switch(n){case"rename":const[...e]=r.split("."),t=e.pop();let p=e.join("."),l=prompt(sprintf(window.com_food_lang.COM_FOOD_RENAME_QUAERE,r),p);if(!l)return s(),!1;if(/[^A-z0-9-._]+/.test(l))return alert(window.com_food_lang.COM_FOOD_RENAME_ERROR+"!"),s(),!1;a.value=n,i.value=r,c.value=l+`.${t}`,i.value!=c.value?o.submit():s();break;case"delete":confirm(sprintf(window.com_food_lang.COM_FOOD_DELETE_QUAERE,r))&&(a.value=n,i.value=r,o.submit())}},o.dir){const t=`${location.origin}/${o.dir}/`;e.extend(!0,DataTable.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary text-uppercase"}}});e("title").text();new DataTable(".food-table .table",{columns:[{name:"file"},{name:"permission"},{name:"date"},{name:"size"},{name:"actions"}],columnDefs:[{searchable:!0,targets:[0],orderable:!0},{searchable:!1,targets:[1,2,3,4],orderable:!1}],ordering:!0,stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance+"_"+o.dir,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance+"_"+o.dir))},lengthMenu:[[10,25,50,100,-1],["\u043f\u043e 10","\u043f\u043e 25","\u043f\u043e 50","\u043f\u043e 100","\u0412\u0441\u0435"]],layout:{topStart:["pageLength","search"],topEnd:{buttons:[{extend:"excel",text:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 XLSX",download:"",filename:`\u042d\u043a\u0441\u043f\u043e\u0440\u0442 ${o.dir} \u0432 XLSX`,title:`\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f ${t}`,sheetName:`${o.dir}`,customize:function(r){let a=(new Date).toISOString();r._rels={},r._rels[".rels"]=e.parseXML('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'),r.docProps={},r.docProps["core.xml"]=e.parseXML('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">'+`<dc:title>\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f ${t}</dc:title>`+`<dc:subject>\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f ${t}</dc:subject>`+`<dc:creator>${n}</dc:creator>`+"<cp:keywords />"+`<dc:description>${n}</dc:description>`+`<cp:lastModifiedBy>${n}</cp:lastModifiedBy>`+`<dcterms:created xsi:type="dcterms:W3CDTF">${a}</dcterms:created>`+`<dcterms:modified xsi:type="dcterms:W3CDTF">${a}</dcterms:modified>`+`<cp:category>${o.dir}</cp:category>`+"</cp:coreProperties>"),r.docProps["app.xml"]=e.parseXML('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>\u041b\u0438\u0441\u0442\u044b</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr">'+`<vt:lpstr>${o.dir}</vt:lpstr>`+"</vt:vector></TitlesOfParts><Manager>ProjectSoft</Manager><Company>ProjectSoft</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc>"+`<HyperlinkBase>${t}</HyperlinkBase>`+"<HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>");let s=r["[Content_Types].xml"],i=s.querySelector("Types"),c=s.createElement("Override");c.setAttribute("PartName","/docProps/core.xml"),c.setAttribute("ContentType","application/vnd.openxmlformats-package.core-properties+xml"),i.append(c);let p=s.createElement("Override");p.setAttribute("PartName","/docProps/app.xml"),p.setAttribute("ContentType","application/vnd.openxmlformats-officedocument.extended-properties+xml"),i.append(p),r["[Content_Types].xml"]=s},action:function(e,t,n,r,o){DataTable.ext.buttons.excelHtml5.action.call(this,e,t,n,r,o)}},{extend:"pdf",text:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 PDF",download:"",filename:`\u042d\u043a\u0441\u043f\u043e\u0440\u0442 ${o.dir} \u0432 PDF`,title:`\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f ${t}`,customize:function(e){let r=(new Date).toISOString(),o=["\u041c\u0435\u043d\u044e \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e\u0433\u043e \u043f\u0438\u0442\u0430\u043d\u0438\u044f.",`\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f ${t}`];e.language="ru-RU",e.info={title:o.join(" "),author:n,subject:o.join(" "),keywords:o.join(" "),creator:`${n}`,producer:"ProjectSoft",modDate:`${r}`},e.header={columns:[{text:`${t}`,margin:[15,15,15,15],alignment:"left"},{text:function(e=0){let t=new Date(e),n=t.getDate(),r=t.getMonth()+1,o=t.getFullYear(),a=t.getHours(),s=t.getMinutes(),c=t.getSeconds(),p=[i(n,2,"0"),i(r,2,"0"),String(o)],l=[i(a,2,"0"),i(s,2,"0"),i(c,2,"0")];return p.join("-")+" "+l.join(":")}((new Date).getTime()),margin:[15,15,15,15],alignment:"right"}]},e.footer=function(e,t){return[{text:e.toString()+" \u0438\u0437 "+t,margin:[15,15,15,15],alignment:"center"}]},e.content[0].text=o.join("\r\n")},action:function(e,t,n,r,o){DataTable.ext.buttons.pdfHtml5.action.call(this,e,t,n,r,o)}}]}},language:{url:"/administrator/components/com_food/assets/js/ru_RU.json"}})}}(jQuery);